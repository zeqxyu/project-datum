<!DOCTYPE html>
<html lang="si">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Moj koledar</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.min.js" integrity="sha384-7qAoOXltbVP82dhxHAUje59V5r2YsVfBafyUDxEdApLPmcdhBPg1DKg1ERo0BZlK" crossorigin="anonymous"></script>

	<style>
		.username {
			max-width: 50vw;
			font-weight: 600;
			text-align: center;
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
			display: inline-block;
			font-size: clamp(0.8rem, 5vw - 0.5rem, 1.4rem); /* Адаптив */
		}
	</style>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

</head>
<body data-bs-theme="dark">
	<nav class="navbar bg-dark px-2">
		<!-- Левая кнопка меню -->
		<button class="btn btn-dark" type="button" data-bs-toggle="offcanvas" data-bs-target="#menuOffcanvas">
		  <i class="bi bi-list fs-3"></i>
		</button>
	  
		<!-- Имя пользователя -->
		<div class="mx-auto username">
			<span class="username" id="username">Anton Božič-Matvijenko</span>
		</div>
	  
		<!-- Правая иконка уведомлений -->
		<button class="btn btn-dark" type="button" data-bs-toggle="offcanvas" data-bs-target="#notificationsOffcanvas">
		  <i class="bi bi-bell fs-4"></i>
		</button>
	</nav>
	  
	  <!-- Шторка: Меню -->
	<div class="offcanvas offcanvas-start text-bg-dark" tabindex="-1" id="menuOffcanvas">
		<div class="offcanvas-header d-flex justify-content-between align-items-center">
			<div class="d-flex align-items-center gap-3">
			  <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
			  <div class="username" style="max-width: 200px; font-size: clamp(0.8rem, 3vw, 1.2rem); font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
				Anton Božič-Matvijenko
			  </div>
			</div>
			<h5 class="offcanvas-title mb-0">Meni</h5>
		  </div>
		    
		<div class="offcanvas-body d-flex flex-column justify-content-between p-0">
			<div class="list-group list-group-flush">
				<button class="list-group-item list-group-item-action d-flex align-items-center px-4 py-3" onclick="window.location.href=''">
					<i class="bi bi-person-circle me-3"></i>
					<span class="flex-grow-1">Moj račun</span>
				</button>
				<button class="list-group-item list-group-item-action d-flex align-items-center text-warning px-4 py-4">
					<i class="bi bi-coin me-3"></i>
					<span class="flex-grow-1">1675</span>
				</button>
				<button class="list-group-item list-group-item-action d-flex align-items-center text-warning px-4 py-4">
					<i class="bi bi-braces-asterisk me-3"></i>
					<span class="flex-grow-1">1.37</span>
				</button>
				<button class="list-group-item list-group-item-action d-flex align-items-center px-4 py-3">
					<i class="bi bi-calendar-event me-3"></i>
					<span class="flex-grow-1">Moj koledar</span>
				</button>
				<button class="list-group-item list-group-item-action d-flex align-items-center px-4 py-3">
					<i class="bi bi-clipboard-check me-3"></i>
					<span class="flex-grow-1">Ocenjevanja</span>
					<span class="badge bg-danger rounded-pill">1</span>
				</button>
				<button class="list-group-item list-group-item-action d-flex align-items-center px-4 py-3">
					<i class="bi bi-people me-3"></i>
					<span class="flex-grow-1">Moj razred</span>
				</button>
			</div>
		  
			<div class="list-group list-group-flush mt-3">
				<button class="list-group-item list-group-item-action d-flex align-items-center px-4 py-3">
					<i class="bi bi-bug me-3"></i>
					<span class="flex-grow-1">Prijava tehničnih napak</span>
				</button>
				<button class="list-group-item list-group-item-action d-flex align-items-center px-4 py-3">
					<i class="bi bi-code-slash me-3"></i>
					<span class="flex-grow-1">Razvijalci</span>
				</button>
				<button class="list-group-item list-group-item-action d-flex align-items-center px-4 py-3 text-danger">
					<i class="bi bi-box-arrow-right me-3"></i>
					<span class="flex-grow-1">Odjava</span>
				</button>
			</div>
		</div>	  
	</div>
	
	<!-- Шторка: Уведомления -->
	<div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="notificationsOffcanvas">
		<div class="offcanvas-header">
		<h5 class="offcanvas-title">Obvestila</h5>
			<button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"></button>
		</div>
		<div class="offcanvas-body p-0">
			<div class="list-group list-group-flush"> 
				<!-- ВАЖНОЕ + переход -->
				<button class="list-group-item list-group-item-action bg-warning text-dark px-4 py-3 border-0" onclick="window.location.href='/ocene'">
					<div class="small text-secondary mb-1">
						25. 7. 2025, 17:00
					</div>
					<div class="d-flex align-items-center">
						<i class="bi bi-shuffle me-3 fs-5"></i>
						<div class="flex-grow-1">Aleks želi zamenjati z vami datum</div>
					</div>
				</button>
				<!-- НЕВАЖНОЕ (просто панель) -->
				<div class="list-group-item bg-dark text-white px-4 py-3 border-0">
					<div class="small text-secondary mb-1">25. 7. 2025, 14:23</div>
					<div class="d-flex align-items-center">
						<i class="bi bi-info-circle me-3 fs-5"></i>
						<div class="flex-grow-1">Vaš pravičnostni koeficient: 1.04 -> 1.37</div>
					</div>
				</div>
			
				<!-- ВАЖНОЕ + переход -->
				<button class="list-group-item list-group-item-action bg-primary text-light px-4 py-3 border-0" onclick="window.location.href='/razpored'">
					<div class="small text-secondary-emphasis mb-1">25. 7. 2025, 11:42</div>
					<div class="d-flex align-items-center">
						<i class="bi bi-calendar-week me-3 fs-5"></i>
						<div class="flex-grow-1">
							Novo ustno ocenjevanje iz MAT! Izberite datum!
						</div>
					</div>
				</button>

				<button class="list-group-item list-group-item-action bg-primary text-light px-4 py-3 border-0" onclick="window.location.href='/razpored'">
					<div class="small text-secondary-emphasis mb-1">25. 7. 2025, 9:31</div>
					<div class="d-flex align-items-center">
						<i class="bi bi-calendar-week me-3 fs-5"></i>
						<div class="flex-grow-1">Datumi za ANG so ovrednoteni! Kupite zdaj!</div>
					</div>
				</button>
			
			</div>
		</div>
	</div>
	
	<!-- СЮДА ВСЕ МЯСО -->

    <div class="container py-4">

        <!-- Переключение месяцев -->
        <div class="d-flex justify-content-between align-items-center mb-3">
            <button class="btn btn-outline-light btn-sm" id="prevMonth">
                <i class="bi bi-chevron-left"></i>
            </button>
            <h4 class="mb-0" id="currentMonth">September 2025</h4>
            <button class="btn btn-outline-light btn-sm" id="nextMonth">
                <i class="bi bi-chevron-right"></i>
            </button>
        </div>
    
        <!-- Календарная сетка -->
        <div class="row row-cols-5 g-2" id="calendarGrid">
            <!-- JavaScript сгенерирует -->
        </div>
    </div>
    
    <script>
        const calendarGrid = document.getElementById("calendarGrid");
        const currentMonthLabel = document.getElementById("currentMonth");
        const prevBtn = document.getElementById("prevMonth");
        const nextBtn = document.getElementById("nextMonth");
    
        const months = [
            "Januar", "Februar", "Marec", "April", "Maj", "Junij",
            "Julij", "Avgust", "September", "Oktober", "November", "December"
        ];
    
        // Учебный год: от сентября 2025 до июня 2026
        const startYear = 2025;
        const startMonth = 8; // Сентябрь
        const endYear = 2026;
        const endMonth = 5; // Июнь
    
        let currentDate = new Date(startYear, startMonth);
    
        function renderCalendar(date) {
            const year = date.getFullYear();
            const month = date.getMonth();
        
            if (year < startYear || (year === startYear && month < startMonth)) return;
            if (year > endYear || (year === endYear && month > endMonth)) return;
        
            currentMonthLabel.textContent = months[month] + " " + year;
            calendarGrid.innerHTML = "";
        
            const firstDayOfMonth = new Date(year, month, 1);
            const lastDayOfMonth = new Date(year, month + 1, 0);
        
            const startDate = new Date(firstDayOfMonth);
            const startDay = startDate.getDay() === 0 ? 7 : startDate.getDay();
            startDate.setDate(startDate.getDate() - (startDay - 1));
        
            const endDate = new Date(lastDayOfMonth);
            const endDay = endDate.getDay() === 0 ? 7 : endDate.getDay();
            endDate.setDate(endDate.getDate() + (5 - endDay));
        
            let current = new Date(startDate);
            while (current <= endDate) {
                if (current.getDay() >= 1 && current.getDay() <= 5) {
                    const col = document.createElement("div");
                    col.className = "col";
        
                    const cell = document.createElement("div");
                    cell.className = "border rounded p-2 text-center position-relative";
                    cell.style.minHeight = "60px";
        
                    const label = document.createElement("small");
                    label.className = "position-absolute top-0 start-0 m-1 text-muted";
                    label.textContent = current.getDate();
        
                    if (current.getMonth() !== month) {
                        cell.classList.add("opacity-50");
                    }
        
                    cell.appendChild(label);
        
                    cell.addEventListener("click", () => {
                        alert(`Izbran datum: ${current.getDate()}.${current.getMonth() + 1}.${current.getFullYear()}`);
                    });
        
                    col.appendChild(cell);
                    calendarGrid.appendChild(col);
                }
                current.setDate(current.getDate() + 1);
            }
        }
        
        
        
    
        prevBtn.addEventListener("click", () => {
            currentDate.setMonth(currentDate.getMonth() - 1);
            renderCalendar(currentDate);
        });
    
        nextBtn.addEventListener("click", () => {
            currentDate.setMonth(currentDate.getMonth() + 1);
            renderCalendar(currentDate);
        });
    
        renderCalendar(currentDate);
    </script>
    

	<!-- JS -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
	<!-- Bootstrap Icons -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</body>
</html>